{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/EditProjectForm.jsx\";\nimport React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport axios from \"axios\";\nimport ImageWithModal from \"./ImageWithModal\";\nimport * as api_links from \"../APILinks\";\n\nconst EditProjectForm = props => {\n  const [formData, setFormData] = React.useState({});\n  const [editedFormData, setEditedFormData] = React.useState({});\n  const [status, setStatus] = React.useState(\"\");\n  const [oldStatus, setOldStatus] = React.useState(\"\");\n  const [statusChoices, setStatusChoices] = React.useState([]);\n  const [personsID, setPersonsID] = React.useState([]);\n  const [editedPersonsList, setEditedPersonsList] = React.useState([]);\n  const [userList, setUserList] = React.useState([]);\n  const [projectImage, setProjectImage] = React.useState(null);\n  const [projectDescription, setProjectDescription] = React.useState(\"\");\n\n  const handleFormChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData(prevValue => ({ ...prevValue,\n      [name]: value\n    }));\n    setEditedFormData(prevValue => ({ ...prevValue,\n      [name]: value\n    }));\n  };\n\n  const handleMembersChange = event => {\n    setPersonsID(event.target.value);\n    setEditedPersonsList(event.target.value);\n  };\n\n  async function fetchUserListFromAPI() {\n    axios.get(api_links.API_ROOT + \"users/\").then(res => {\n      setUserList(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  const handleImageChange = event => {\n    setProjectImage(event.target.files[0]);\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    const token = props.token;\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Token  \" + token\n    };\n    axios.patch(api_links.API_ROOT + `projects/${props.projectID}/`, { ...editedFormData,\n      wiki: projectDescription\n    }).then(res => {\n      let audio = new Audio(\"../sounds/navigation_selection-complete-celebration.wav\");\n      audio.play();\n      editedPersonsList.length && axios.patch(api_links.UPDATE_PROJECT_MEMBERS(props.projectID), {\n        members: editedPersonsList\n      }).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n        let audio = new Audio(\"../sounds/alert_error-03.wav\");\n        audio.play();\n      });\n      status != oldStatus && axios.patch(api_links.UPDATE_PROJECT_STATUS(props.projectID), {\n        status: status\n      }).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n        let audio = new Audio(\"../sounds/alert_error-03.wav\");\n        audio.play();\n      });\n\n      if (projectImage !== null && (res.status == 200 || res.status == 202 || res.status == 204)) {\n        let project_id = res.data.id;\n        let data = new FormData();\n        data.append(\"project\", project_id);\n        data.append(\"image\", projectImage, projectImage.name);\n        axios.defaults.headers = {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Token  \" + token\n        };\n\n        if (res.data.icon) {\n          axios.patch(api_links.API_ROOT + `projecticons/${res.data.icon_id}/`, data).then(res => {\n            console.log(res);\n          }).catch(err => {\n            console.log(err);\n            let audio = new Audio(\"../sounds/alert_error-03.wav\");\n            audio.play();\n          });\n        } else {\n          axios.post(api_links.API_ROOT + `projecticons/`, data).then(res => {\n            console.log(res);\n          }).catch(err => {\n            console.log(err);\n            let audio = new Audio(\"../sounds/alert_error-03.wav\");\n            audio.play();\n          });\n        }\n      }\n\n      setTimeout(() => {\n        window.location.href = \"/projects\";\n      }, 1000);\n    }).catch(err => {\n      console.log(err);\n      let audio = new Audio(\"../sounds/alert_error-03.wav\");\n      audio.play();\n    });\n  };\n\n  const handleEditorChange = (content, editor) => {\n    setProjectDescription(content);\n  };\n\n  async function fetchProjectInfoFromAPI() {\n    axios.get(api_links.API_ROOT + `projects/${props.projectID}/`).then(res => {\n      setFormData({\n        name: res.data.name,\n        link: res.data.link,\n        creator: res.data.creator,\n        icon: res.data.icon != undefined ? api_links.ROOT + res.data.icon : null\n      });\n      setStatus(res.data.status);\n      setOldStatus(res.data.status);\n      setProjectDescription(res.data.wiki);\n      setPersonsID(res.data.members);\n    }).catch(err => console.log(err));\n  }\n\n  async function fetchStatusChoicesFromAPI() {\n    axios.options(api_links.API_ROOT + `projects/`).then(res => {\n      setStatusChoices(res.data.actions.POST.status.choices.map(choice => choice.display_name));\n    }).catch(err => console.log(err));\n  }\n\n  React.useEffect(() => {\n    fetchUserListFromAPI();\n    fetchProjectInfoFromAPI();\n    fetchStatusChoicesFromAPI();\n  }, []);\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"20px 5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, \"Project Name\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"custom-form-outline\",\n    style: props.borderClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"name\",\n    fullWidth: true,\n    id: \"projectname\",\n    label: \"\",\n    value: formData.name,\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, \"Wiki\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    style: { ...props.borderClass,\n      padding: \"0\",\n      borderRadius: \"4px\",\n      margin: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, !props.darkTheme ? /*#__PURE__*/React.createElement(Editor, {\n    value: projectDescription,\n    init: {\n      skin: \"material-classic\",\n      content_css: \"material-classic\",\n      icons: \"thin\",\n      height: 250,\n      menubar: false,\n      plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount table\"],\n      toolbar: [\"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\"]\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(Editor, {\n    value: projectDescription,\n    init: {\n      skin: \"oxide-dark\",\n      content_css: \"dark\",\n      icons: \"thin\",\n      height: 250,\n      menubar: false,\n      plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount table\"],\n      toolbar: [\"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\"]\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, \"Project Logo\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"custom-form-outline\",\n    style: props.borderClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project-edit-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, formData.icon ? /*#__PURE__*/React.createElement(ImageWithModal, {\n    src: formData.icon,\n    alt: \"Project Icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 19\n    }\n  }, \"No logo set for this project.\")), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 15\n    }\n  }, \"Select New Logo\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"image\",\n    accept: \"image/*\",\n    onChange: handleImageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, \"Select Members\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, userList !== [] && /*#__PURE__*/React.createElement(Select, {\n    labelId: \"mutiple-chip-label\",\n    id: \"mutiple-chip\",\n    className: \"custom-form-selection-outline\",\n    style: props.borderClass,\n    multiple: true,\n    value: personsID,\n    onChange: handleMembersChange,\n    input: /*#__PURE__*/React.createElement(Input, {\n      id: \"select-multiple-chip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 26\n      }\n    }),\n    renderValue: selected => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 21\n      }\n    }, selected.map(value => /*#__PURE__*/React.createElement(Chip, {\n      key: value,\n      label: userList.filter((user, index) => user.id == value)[0] !== undefined && userList.filter((user, index) => user.id == value)[0].name,\n      style: {\n        margin: \"5px\",\n        borderRadius: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 25\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }\n  }, userList.map(user => /*#__PURE__*/React.createElement(MenuItem, {\n    key: user.name,\n    value: user.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 21\n    }\n  }, user.name)))), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }\n  }, \"Change Status (current Status is \", oldStatus, \")\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"single-select-outlined-label\",\n    id: \"single-select-outlined\",\n    className: \"custom-form-selection-outline\",\n    style: props.borderClass,\n    value: status,\n    onChange: event => setStatus(event.target.value),\n    label: \"Status\",\n    name: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 19\n    }\n  }, \"None\")), statusChoices.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n    value: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 19\n    }\n  }, option)))), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }\n  }, \"Link\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"custom-form-outline\",\n    style: props.borderClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"link\",\n    fullWidth: true,\n    id: \"projectlink\",\n    label: \"\",\n    value: formData.link,\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 13\n    }\n  }, \"Save\")))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    darkTheme: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(state.theme.theme),\n    borderClass: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(state.theme.theme) ? {\n      border: \"1px solid #ffffff6e\"\n    } : {\n      border: \"1.5px solid #00000042\"\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(EditProjectForm));","map":{"version":3,"sources":["/app/frontend/src/components/EditProjectForm.jsx"],"names":["React","useEffect","Button","TextField","Grid","Typography","Container","Input","InputLabel","MenuItem","Select","Chip","withRouter","Redirect","connect","Editor","axios","ImageWithModal","api_links","EditProjectForm","props","formData","setFormData","useState","editedFormData","setEditedFormData","status","setStatus","oldStatus","setOldStatus","statusChoices","setStatusChoices","personsID","setPersonsID","editedPersonsList","setEditedPersonsList","userList","setUserList","projectImage","setProjectImage","projectDescription","setProjectDescription","handleFormChange","event","name","value","target","prevValue","handleMembersChange","fetchUserListFromAPI","get","API_ROOT","then","res","data","catch","err","console","log","handleImageChange","files","handleFormSubmit","preventDefault","token","defaults","headers","Authorization","patch","projectID","wiki","audio","Audio","play","length","UPDATE_PROJECT_MEMBERS","members","UPDATE_PROJECT_STATUS","project_id","id","FormData","append","icon","icon_id","post","setTimeout","window","location","href","handleEditorChange","content","editor","fetchProjectInfoFromAPI","link","creator","undefined","ROOT","fetchStatusChoicesFromAPI","options","actions","POST","choices","map","choice","display_name","margin","borderClass","padding","borderRadius","darkTheme","skin","content_css","icons","height","menubar","plugins","toolbar","selected","filter","user","index","option","marginTop","mapStateToProps","state","auth","includes","theme","border"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { Editor } from \"@tinymce/tinymce-react\";\n\nimport axios from \"axios\";\n\nimport ImageWithModal from \"./ImageWithModal\";\nimport * as api_links from \"../APILinks\";\n\nconst EditProjectForm = (props) => {\n  const [formData, setFormData] = React.useState({});\n  const [editedFormData, setEditedFormData] = React.useState({});\n  const [status, setStatus] = React.useState(\"\");\n  const [oldStatus, setOldStatus] = React.useState(\"\");\n  const [statusChoices, setStatusChoices] = React.useState([]);\n  const [personsID, setPersonsID] = React.useState([]);\n  const [editedPersonsList, setEditedPersonsList] = React.useState([]);\n  const [userList, setUserList] = React.useState([]);\n  const [projectImage, setProjectImage] = React.useState(null);\n  const [projectDescription, setProjectDescription] = React.useState(\"\");\n\n  const handleFormChange = (event) => {\n    const { name, value } = event.target;\n    setFormData((prevValue) => ({\n      ...prevValue,\n      [name]: value,\n    }));\n    setEditedFormData((prevValue) => ({\n      ...prevValue,\n      [name]: value,\n    }));\n  };\n\n  const handleMembersChange = (event) => {\n    setPersonsID(event.target.value);\n    setEditedPersonsList(event.target.value);\n  };\n\n  async function fetchUserListFromAPI() {\n    axios\n      .get(api_links.API_ROOT + \"users/\")\n      .then((res) => {\n        setUserList(res.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const handleImageChange = (event) => {\n    setProjectImage(event.target.files[0]);\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    const token = props.token;\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Token  \" + token,\n    };\n    axios\n      .patch(api_links.API_ROOT + `projects/${props.projectID}/`, {\n        ...editedFormData,\n        wiki: projectDescription,\n      })\n      .then((res) => {\n        let audio = new Audio(\n          \"../sounds/navigation_selection-complete-celebration.wav\"\n        );\n        audio.play();\n\n        editedPersonsList.length &&\n          axios\n            .patch(api_links.UPDATE_PROJECT_MEMBERS(props.projectID), {\n              members: editedPersonsList,\n            })\n            .then((res) => {\n              console.log(res);\n            })\n            .catch((err) => {\n              console.log(err);\n              let audio = new Audio(\"../sounds/alert_error-03.wav\");\n              audio.play();\n            });\n\n        status != oldStatus &&\n          axios\n            .patch(api_links.UPDATE_PROJECT_STATUS(props.projectID), {\n              status: status,\n            })\n            .then((res) => {\n              console.log(res);\n            })\n            .catch((err) => {\n              console.log(err);\n              let audio = new Audio(\"../sounds/alert_error-03.wav\");\n              audio.play();\n            });\n\n        if (\n          projectImage !== null &&\n          (res.status == 200 || res.status == 202 || res.status == 204)\n        ) {\n          let project_id = res.data.id;\n          let data = new FormData();\n          data.append(\"project\", project_id);\n          data.append(\"image\", projectImage, projectImage.name);\n          axios.defaults.headers = {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: \"Token  \" + token,\n          };\n          if (res.data.icon) {\n            axios\n              .patch(\n                api_links.API_ROOT + `projecticons/${res.data.icon_id}/`,\n                data\n              )\n              .then((res) => {\n                console.log(res);\n              })\n              .catch((err) => {\n                console.log(err);\n                let audio = new Audio(\"../sounds/alert_error-03.wav\");\n                audio.play();\n              });\n          } else {\n            axios\n              .post(api_links.API_ROOT + `projecticons/`, data)\n              .then((res) => {\n                console.log(res);\n              })\n              .catch((err) => {\n                console.log(err);\n                let audio = new Audio(\"../sounds/alert_error-03.wav\");\n                audio.play();\n              });\n          }\n        }\n        setTimeout(() => {\n          window.location.href = \"/projects\";\n        }, 1000);\n      })\n      .catch((err) => {\n        console.log(err);\n        let audio = new Audio(\"../sounds/alert_error-03.wav\");\n        audio.play();\n      });\n  };\n\n  const handleEditorChange = (content, editor) => {\n    setProjectDescription(content);\n  };\n\n  async function fetchProjectInfoFromAPI() {\n    axios\n      .get(api_links.API_ROOT + `projects/${props.projectID}/`)\n      .then((res) => {\n        setFormData({\n          name: res.data.name,\n          link: res.data.link,\n          creator: res.data.creator,\n          icon:\n            res.data.icon != undefined ? api_links.ROOT + res.data.icon : null,\n        });\n        setStatus(res.data.status);\n        setOldStatus(res.data.status);\n        setProjectDescription(res.data.wiki);\n        setPersonsID(res.data.members);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  async function fetchStatusChoicesFromAPI() {\n    axios\n      .options(api_links.API_ROOT + `projects/`)\n      .then((res) => {\n        setStatusChoices(\n          res.data.actions.POST.status.choices.map(\n            (choice) => choice.display_name\n          )\n        );\n      })\n      .catch((err) => console.log(err));\n  }\n\n  React.useEffect(() => {\n    fetchUserListFromAPI();\n    fetchProjectInfoFromAPI();\n    fetchStatusChoicesFromAPI();\n  }, []);\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div style={{ margin: \"20px 5px\" }}>\n        <form noValidate onSubmit={handleFormSubmit}>\n          <Grid container spacing={2}>\n            <Typography className=\"form-label\">Project Name</Typography>\n            <Grid\n              item\n              xs={12}\n              className=\"custom-form-outline\"\n              style={props.borderClass}\n            >\n              <TextField\n                name=\"name\"\n                fullWidth\n                id=\"projectname\"\n                label=\"\"\n                value={formData.name}\n                onChange={handleFormChange}\n              />\n            </Grid>\n\n            <Typography className=\"form-label\">Wiki</Typography>\n            <Grid\n              item\n              xs={12}\n              style={{\n                ...props.borderClass,\n                padding: \"0\",\n                borderRadius: \"4px\",\n                margin: \"10px\",\n              }}\n            >\n              {!props.darkTheme ? (\n                <Editor\n                  value={projectDescription}\n                  init={{\n                    skin: \"material-classic\",\n                    content_css: \"material-classic\",\n                    icons: \"thin\",\n                    height: 250,\n                    menubar: false,\n                    plugins: [\n                      \"advlist autolink lists link image charmap print preview anchor\",\n                      \"searchreplace visualblocks code fullscreen\",\n                      \"insertdatetime media table paste code help wordcount table\",\n                    ],\n                    toolbar: [\n                      \"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\",\n                    ],\n                  }}\n                  onEditorChange={handleEditorChange}\n                />\n              ) : (\n                <Editor\n                  value={projectDescription}\n                  init={{\n                    skin: \"oxide-dark\",\n                    content_css: \"dark\",\n                    icons: \"thin\",\n                    height: 250,\n                    menubar: false,\n                    plugins: [\n                      \"advlist autolink lists link image charmap print preview anchor\",\n                      \"searchreplace visualblocks code fullscreen\",\n                      \"insertdatetime media table paste code help wordcount table\",\n                    ],\n                    toolbar: [\n                      \"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\",\n                    ],\n                  }}\n                  onEditorChange={handleEditorChange}\n                />\n              )}\n            </Grid>\n\n            <Typography className=\"form-label\">Project Logo</Typography>\n            <Grid\n              item\n              xs={12}\n              className=\"custom-form-outline\"\n              style={props.borderClass}\n            >\n              <div className=\"project-edit-image\">\n                {formData.icon ? (\n                  <ImageWithModal src={formData.icon} alt=\"Project Icon\" />\n                ) : (\n                  <Typography>No logo set for this project.</Typography>\n                )}\n              </div>\n              <Typography className=\"form-label-inner\">\n                Select New Logo\n              </Typography>\n              <input\n                type=\"file\"\n                name=\"image\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n              />\n            </Grid>\n\n            <Typography className=\"form-label\">Select Members</Typography>\n            <Grid item xs={12}>\n              {userList !== [] && (\n                <Select\n                  labelId=\"mutiple-chip-label\"\n                  id=\"mutiple-chip\"\n                  className=\"custom-form-selection-outline\"\n                  style={props.borderClass}\n                  multiple\n                  value={personsID}\n                  onChange={handleMembersChange}\n                  input={<Input id=\"select-multiple-chip\" />}\n                  renderValue={(selected) => (\n                    <div>\n                      {selected.map((value) => (\n                        <Chip\n                          key={value}\n                          label={\n                            userList.filter(\n                              (user, index) => user.id == value\n                            )[0] !== undefined &&\n                            userList.filter(\n                              (user, index) => user.id == value\n                            )[0].name\n                          }\n                          style={{ margin: \"5px\", borderRadius: \"10px\" }}\n                        />\n                      ))}\n                    </div>\n                  )}\n                >\n                  {userList.map((user) => (\n                    <MenuItem key={user.name} value={user.id}>\n                      {user.name}\n                    </MenuItem>\n                  ))}\n                </Select>\n              )}\n            </Grid>\n\n            <Typography className=\"form-label\">\n              Change Status (current Status is {oldStatus})\n            </Typography>\n            <Grid item xs={12}>\n              <Select\n                labelId=\"single-select-outlined-label\"\n                id=\"single-select-outlined\"\n                className=\"custom-form-selection-outline\"\n                style={props.borderClass}\n                value={status}\n                onChange={(event) => setStatus(event.target.value)}\n                label=\"Status\"\n                name=\"status\"\n              >\n                <MenuItem value=\"\">\n                  <em>None</em>\n                </MenuItem>\n                {statusChoices.map((option) => (\n                  <MenuItem value={option}>{option}</MenuItem>\n                ))}\n              </Select>\n            </Grid>\n\n            <Typography className=\"form-label\">Link</Typography>\n            <Grid\n              item\n              xs={12}\n              className=\"custom-form-outline\"\n              style={props.borderClass}\n            >\n              <TextField\n                name=\"link\"\n                fullWidth\n                id=\"projectlink\"\n                label=\"\"\n                value={formData.link}\n                onChange={handleFormChange}\n              />\n            </Grid>\n\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              style={{ marginTop: \"20px\" }}\n            >\n              Save\n            </Button>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    token: state.auth.token,\n    darkTheme: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(\n      state.theme.theme\n    ),\n    borderClass: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(\n      state.theme.theme\n    )\n      ? {\n          border: \"1px solid #ffffff6e\",\n        }\n      : {\n          border: \"1.5px solid #00000042\",\n        },\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(EditProjectForm));\n"]},"metadata":{},"sourceType":"module"}