{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/NewProjectForm.jsx\";\nimport React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Input from \"@material-ui/core/Input\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport * as api_links from \"../APILinks\";\n\nconst NewProjectForm = props => {\n  const [formData, setFormData] = React.useState({\n    name: \"\",\n    status: \"\",\n    link: \"\"\n  });\n  const [personsID, setPersonsID] = React.useState([]);\n  const [userList, setUserList] = React.useState([]);\n  const [projectImage, setProjectImage] = React.useState(null);\n  const [wiki, setWiki] = React.useState(\"\");\n\n  const handleFormChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData(prevValue => ({ ...prevValue,\n      [name]: value\n    }));\n  };\n\n  const handleMembersChange = event => {\n    setPersonsID(event.target.value);\n  };\n\n  async function fetchUserListFromAPI() {\n    axios.get(api_links.API_ROOT + \"users/\").then(res => {\n      setUserList(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  const handleImageChange = event => {\n    setProjectImage(event.target.files[0]);\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    let data = {\n      name: formData.name,\n      wiki: wiki,\n      timestamp: new Date(),\n      link: formData.link,\n      status: formData.status,\n      members: personsID\n    };\n    const token = localStorage.getItem(\"token\");\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Token  \" + token\n    };\n    axios.post(api_links.API_ROOT + \"projects/\", data).then(res => {\n      let audio = new Audio(\"../sounds/navigation_selection-complete-celebration.wav\");\n      audio.play();\n\n      if (projectImage !== null && res.status == 201) {\n        let project_id = res.data.id;\n        data = new FormData();\n        data.append(\"project\", project_id);\n        data.append(\"image\", projectImage, projectImage.name);\n        axios.defaults.headers = {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Token  \" + token\n        };\n        axios.post(api_links.API_ROOT + \"projecticons/\", data).then(res => {\n          console.log(res);\n          window.location.reload();\n        }).catch(err => {\n          console.log(err);\n          let audio = new Audio(\"../sounds/alert_error-03.wav\");\n          audio.play();\n        });\n      }\n\n      setTimeout(() => {\n        window.location.href = \"/projects\";\n      }, 1000);\n    }).catch(err => {\n      console.log(err);\n      let audio = new Audio(\"../sounds/alert_error-03.wav\");\n      audio.play();\n    });\n  };\n\n  React.useEffect(() => {\n    fetchUserListFromAPI();\n  }, []);\n\n  const handleEditorChange = (content, editor) => {\n    setWiki(content);\n  };\n\n  const statusOptions = [\"Testing\", \"Deployed\", \"Production\", \"Development\", \"Scrapped\", \"Finished\"];\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"20px 5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Project Name\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"custom-form-outline\",\n    style: props.borderClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"name\",\n    fullWidth: true,\n    id: \"projectname\",\n    value: formData.name,\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"Wiki\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    style: { ...props.borderClass,\n      padding: \"0\",\n      borderRadius: \"4px\",\n      margin: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, !props.darkTheme ? /*#__PURE__*/React.createElement(Editor, {\n    value: wiki,\n    init: {\n      skin: \"material-classic\",\n      content_css: \"material-classic\",\n      icons: \"thin\",\n      height: 250,\n      menubar: false,\n      plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount table\"],\n      toolbar: [\"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\"]\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(Editor, {\n    value: wiki,\n    init: {\n      skin: \"oxide-dark\",\n      content_css: \"dark\",\n      icons: \"thin\",\n      height: 250,\n      menubar: false,\n      plugins: [\"advlist autolink lists link image charmap print preview anchor\", \"searchreplace visualblocks code fullscreen\", \"insertdatetime media table paste code help wordcount table\"],\n      toolbar: [\"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\"]\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, \"Logo\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"custom-form-outline\",\n    style: props.borderClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"image\",\n    accept: \"image/*\",\n    onChange: handleImageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, \"Members\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"mutiple-chip-label\",\n    id: \"mutiple-chip\",\n    className: \"custom-form-selection-outline\",\n    style: props.borderClass,\n    multiple: true,\n    value: personsID,\n    onChange: handleMembersChange,\n    input: /*#__PURE__*/React.createElement(Input, {\n      id: \"select-multiple-chip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 24\n      }\n    }),\n    renderValue: selected => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 19\n      }\n    }, selected.map(value => /*#__PURE__*/React.createElement(Chip, {\n      key: value,\n      label: userList.filter((user, index) => user.id == value)[0].name,\n      style: {\n        margin: \"5px\",\n        borderRadius: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 23\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }, userList.map(user => /*#__PURE__*/React.createElement(MenuItem, {\n    key: user.name,\n    value: user.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  }, user.name)))), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelId: \"single-select-outlined-label\",\n    id: \"single-select-outlined\",\n    className: \"custom-form-selection-outline\",\n    style: props.borderClass,\n    value: formData.status,\n    onChange: handleFormChange,\n    label: \"Status\",\n    name: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 19\n    }\n  }, \"None\")), statusOptions.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n    value: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 19\n    }\n  }, option)))), /*#__PURE__*/React.createElement(Typography, {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, \"Project Link\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"custom-form-outline\",\n    style: props.borderClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"link\",\n    fullWidth: true,\n    id: \"projectlink\",\n    value: formData.link,\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }\n  }, \"Create Project\")))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    darkTheme: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(state.theme.theme),\n    borderClass: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(state.theme.theme) ? {\n      border: \"1px solid #ffffff6e\"\n    } : {\n      border: \"1.5px solid #00000042\"\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(NewProjectForm));","map":{"version":3,"sources":["/app/frontend/src/components/NewProjectForm.jsx"],"names":["React","useEffect","Button","TextField","Grid","Typography","Container","Input","MenuItem","Select","Chip","axios","connect","withRouter","Editor","api_links","NewProjectForm","props","formData","setFormData","useState","name","status","link","personsID","setPersonsID","userList","setUserList","projectImage","setProjectImage","wiki","setWiki","handleFormChange","event","value","target","prevValue","handleMembersChange","fetchUserListFromAPI","get","API_ROOT","then","res","data","catch","err","console","log","handleImageChange","files","handleFormSubmit","preventDefault","timestamp","Date","members","token","localStorage","getItem","defaults","headers","Authorization","post","audio","Audio","play","project_id","id","FormData","append","window","location","reload","setTimeout","href","handleEditorChange","content","editor","statusOptions","margin","borderClass","padding","borderRadius","darkTheme","skin","content_css","icons","height","menubar","plugins","toolbar","selected","map","filter","user","index","option","marginTop","mapStateToProps","state","includes","theme","border"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Input from \"@material-ui/core/Input\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport * as api_links from \"../APILinks\";\n\nconst NewProjectForm = (props) => {\n  const [formData, setFormData] = React.useState({\n    name: \"\",\n    status: \"\",\n    link: \"\",\n  });\n  const [personsID, setPersonsID] = React.useState([]);\n  const [userList, setUserList] = React.useState([]);\n  const [projectImage, setProjectImage] = React.useState(null);\n  const [wiki, setWiki] = React.useState(\"\");\n\n  const handleFormChange = (event) => {\n    const { name, value } = event.target;\n    setFormData((prevValue) => ({\n      ...prevValue,\n      [name]: value,\n    }));\n  };\n\n  const handleMembersChange = (event) => {\n    setPersonsID(event.target.value);\n  };\n\n  async function fetchUserListFromAPI() {\n    axios\n      .get(api_links.API_ROOT + \"users/\")\n      .then((res) => {\n        setUserList(res.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const handleImageChange = (event) => {\n    setProjectImage(event.target.files[0]);\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    let data = {\n      name: formData.name,\n      wiki: wiki,\n      timestamp: new Date(),\n      link: formData.link,\n      status: formData.status,\n      members: personsID,\n    };\n    const token = localStorage.getItem(\"token\");\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Token  \" + token,\n    };\n    axios\n      .post(api_links.API_ROOT + \"projects/\", data)\n      .then((res) => {\n        let audio = new Audio(\n          \"../sounds/navigation_selection-complete-celebration.wav\"\n        );\n        audio.play();\n        if (projectImage !== null && res.status == 201) {\n          let project_id = res.data.id;\n          data = new FormData();\n          data.append(\"project\", project_id);\n          data.append(\"image\", projectImage, projectImage.name);\n          axios.defaults.headers = {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: \"Token  \" + token,\n          };\n          axios\n            .post(api_links.API_ROOT + \"projecticons/\", data)\n            .then((res) => {\n              console.log(res);\n              window.location.reload();\n            })\n            .catch((err) => {\n              console.log(err);\n              let audio = new Audio(\"../sounds/alert_error-03.wav\");\n              audio.play();\n            });\n        }\n        setTimeout(() => {\n          window.location.href = \"/projects\";\n        }, 1000);\n      })\n      .catch((err) => {\n        console.log(err);\n        let audio = new Audio(\"../sounds/alert_error-03.wav\");\n        audio.play();\n      });\n  };\n\n  React.useEffect(() => {\n    fetchUserListFromAPI();\n  }, []);\n\n  const handleEditorChange = (content, editor) => {\n    setWiki(content);\n  };\n\n  const statusOptions = [\n    \"Testing\",\n    \"Deployed\",\n    \"Production\",\n    \"Development\",\n    \"Scrapped\",\n    \"Finished\",\n  ];\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div style={{ margin: \"20px 5px\" }}>\n        <form noValidate onSubmit={handleFormSubmit}>\n          <Grid container spacing={2}>\n            <Typography className=\"form-label\">Project Name</Typography>\n            <Grid\n              item\n              xs={12}\n              className=\"custom-form-outline\"\n              style={props.borderClass}\n            >\n              <TextField\n                name=\"name\"\n                fullWidth\n                id=\"projectname\"\n                value={formData.name}\n                onChange={handleFormChange}\n              />\n            </Grid>\n\n            <Typography className=\"form-label\">Wiki</Typography>\n            <Grid\n              item\n              xs={12}\n              style={{\n                ...props.borderClass,\n                padding: \"0\",\n                borderRadius: \"4px\",\n                margin: \"10px\",\n              }}\n            >\n              {!props.darkTheme ? (\n                <Editor\n                  value={wiki}\n                  init={{\n                    skin: \"material-classic\",\n                    content_css: \"material-classic\",\n                    icons: \"thin\",\n                    height: 250,\n                    menubar: false,\n                    plugins: [\n                      \"advlist autolink lists link image charmap print preview anchor\",\n                      \"searchreplace visualblocks code fullscreen\",\n                      \"insertdatetime media table paste code help wordcount table\",\n                    ],\n                    toolbar: [\n                      \"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\",\n                    ],\n                  }}\n                  onEditorChange={handleEditorChange}\n                />\n              ) : (\n                <Editor\n                  value={wiki}\n                  init={{\n                    skin: \"oxide-dark\",\n                    content_css: \"dark\",\n                    icons: \"thin\",\n                    height: 250,\n                    menubar: false,\n                    plugins: [\n                      \"advlist autolink lists link image charmap print preview anchor\",\n                      \"searchreplace visualblocks code fullscreen\",\n                      \"insertdatetime media table paste code help wordcount table\",\n                    ],\n                    toolbar: [\n                      \"undo redo | formatselect | bold italic backcolor | \\\n                      alignleft aligncenter alignright alignjustify | \\\n                      bullist numlist outdent indent | removeformat | table | code | help\",\n                    ],\n                  }}\n                  onEditorChange={handleEditorChange}\n                />\n              )}\n            </Grid>\n\n            <Typography className=\"form-label\">Logo</Typography>\n            <Grid\n              item\n              xs={12}\n              className=\"custom-form-outline\"\n              style={props.borderClass}\n            >\n              <input\n                type=\"file\"\n                name=\"image\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n              />\n            </Grid>\n\n            <Typography className=\"form-label\">Members</Typography>\n            <Grid item xs={12}>\n              <Select\n                labelId=\"mutiple-chip-label\"\n                id=\"mutiple-chip\"\n                className=\"custom-form-selection-outline\"\n                style={props.borderClass}\n                multiple\n                value={personsID}\n                onChange={handleMembersChange}\n                input={<Input id=\"select-multiple-chip\" />}\n                renderValue={(selected) => (\n                  <div>\n                    {selected.map((value) => (\n                      <Chip\n                        key={value}\n                        label={\n                          userList.filter((user, index) => user.id == value)[0]\n                            .name\n                        }\n                        style={{ margin: \"5px\", borderRadius: \"10px\" }}\n                      />\n                    ))}\n                  </div>\n                )}\n              >\n                {userList.map((user) => (\n                  <MenuItem key={user.name} value={user.id}>\n                    {user.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </Grid>\n\n            <Typography className=\"form-label\">Status</Typography>\n            <Grid item xs={12}>\n              <Select\n                labelId=\"single-select-outlined-label\"\n                id=\"single-select-outlined\"\n                className=\"custom-form-selection-outline\"\n                style={props.borderClass}\n                value={formData.status}\n                onChange={handleFormChange}\n                label=\"Status\"\n                name=\"status\"\n              >\n                <MenuItem value=\"\">\n                  <em>None</em>\n                </MenuItem>\n                {statusOptions.map((option) => (\n                  <MenuItem value={option}>{option}</MenuItem>\n                ))}\n              </Select>\n            </Grid>\n\n            <Typography className=\"form-label\">Project Link</Typography>\n            <Grid\n              item\n              xs={12}\n              className=\"custom-form-outline\"\n              style={props.borderClass}\n            >\n              <TextField\n                name=\"link\"\n                fullWidth\n                id=\"projectlink\"\n                value={formData.link}\n                onChange={handleFormChange}\n              />\n            </Grid>\n\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              style={{ marginTop: \"20px\" }}\n            >\n              Create Project\n            </Button>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    darkTheme: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(\n      state.theme.theme\n    ),\n    borderClass: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(\n      state.theme.theme\n    )\n      ? {\n          border: \"1px solid #ffffff6e\",\n        }\n      : {\n          border: \"1.5px solid #00000042\",\n        },\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(NewProjectForm));\n"]},"metadata":{},"sourceType":"module"}