{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/containers/ProjectPage.jsx\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Chip from \"@material-ui/core/Chip\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme, makeStyles } from \"@material-ui/core/styles\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport IssueItem from \"../components/IssueItem\";\nimport SkeletonIssue from \"../components/SkeletonIssue\";\nimport ProjectInfo from \"../components/ProjectInfo\";\nimport NewIssueWithModal from \"../components/NewIssueWithModal\";\nimport AlertDialog from \"../components/AlertDialog\";\nimport * as api_links from \"../APILinks\";\nimport UtilityComponent from \"../components/UtilityComponent\";\nimport HEADER_NAV_TITLES from \"../header_nav_titles\";\nimport axios from \"axios\";\nconst useStyles = makeStyles(theme => ({\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\"\n  },\n  inputInput: {\n    padding: 0,\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\"\n  }\n}));\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }), value === index && /*#__PURE__*/React.createElement(Box, {\n    p: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, children)));\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`\n  };\n}\n\nconst projectsList = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  overflowY: \"auto\"\n};\n\nconst ProjectPage = props => {\n  const Theme = useTheme();\n  const classes = useStyles();\n  const isMobile = useMediaQuery(Theme.breakpoints.down(\"sm\"));\n  const searchClass = {\n    position: \"relative\",\n    borderRadius: \"7px\",\n    backgroundColor: props.darkTheme ? \"rgba(141, 141, 141, 0.096)\" : \"rgba(0,0,0,0.10)\",\n    width: !isMobile ? \"15vw\" : \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"10px 5px\",\n    height: \"45px\",\n    marginLeft: \"3px\"\n  };\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [project, setProject] = React.useState({});\n  const [issues, setIssues] = React.useState([]);\n  const [tagNameColorList, setTagNameColorList] = React.useState();\n  const [tagList, setTagList] = React.useState();\n  const [statusList, setStatusList] = React.useState([]);\n  const [pid, setPid] = React.useState();\n  const [totalPages, setTotalPages] = React.useState(0);\n  const [page, setPage] = React.useState(1);\n  const [statusTypes, setStatusTypes] = React.useState();\n  const [statusType, setStatusType] = React.useState(\"All\");\n  const [search, setSearch] = React.useState(\"\");\n  const [alert, setAlert] = React.useState({\n    open: false\n  });\n\n  const openAlert = (action, title, description, cancel, confirm, data) => {\n    setAlert({\n      open: true,\n      title: title,\n      description: description,\n      cancel: cancel,\n      confirm: confirm,\n      action: action,\n      data: data\n    });\n  };\n\n  const closeAlert = () => {\n    setAlert(prevAlertState => ({\n      open: false\n    }));\n  };\n\n  const confirmAlert = (event, choice, id) => {\n    switch (event) {\n      case \"delete_project\":\n        choice && handleProjectDelete(id);\n        break;\n    }\n  };\n\n  const handleProjectDelete = projectID => {\n    axios.delete(api_links.API_ROOT + `projects/${projectID}/`).then(res => {\n      let audio = new Audio(\"../sounds/navigation_selection-complete-celebration.wav\");\n      audio.play();\n      setTimeout(() => {\n        window.location.href = \"/projects\";\n      }, 1000);\n    }).catch(err => {\n      console.log(err);\n      let audio = new Audio(\"../sounds/alert_error-03.wav\");\n      audio.play();\n    });\n  };\n\n  async function getDemIssues(projectId, pageNumber = 1) {\n    const token = localStorage.getItem(\"token\");\n    let config = {\n      headers: {\n        Authorization: \"Token \" + token\n      },\n      params: {\n        page: pageNumber,\n        project: projectId\n      }\n    };\n    axios.get(api_links.API_ROOT + \"issues/\", config).then(res => {\n      setIssues(res.data.results);\n      setTotalPages(res.data.total_pages);\n    }).catch(err => console.log(err));\n  }\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  async function fetchCurrentUserInfo() {\n    axios.get(`${api_links.API_ROOT}current_user/`).then(res => {\n      setCurrentUser(res.data[0]);\n    }).catch(err => console.log(err));\n  }\n\n  React.useEffect(() => {\n    document.getElementById(\"main-main\").scrollTo(0, 0);\n    fetchCurrentUserInfo();\n    setAlert({\n      open: false\n    });\n    axios.get(api_links.API_ROOT + \"projectnameslug/\").then(res => {\n      const projectslug = props.match.params.projectslug;\n      const requiredProject = res.data.filter(project => project.projectslug == projectslug)[0];\n      setPid(requiredProject.id);\n      setProject(requiredProject);\n      getDemIssues(requiredProject.id);\n      setFilterTags([]);\n      axios.get(api_links.API_ROOT + \"issuestatus/\").then(res => {\n        setStatusList(res.data.map(status => ({\n          text: status.status_text,\n          color: status.color,\n          type: status.status_type,\n          id: status.id\n        })));\n        setStatusTypes({\n          open: res.data.filter(status => status.type == \"Pending\"),\n          fixed_closed: res.data.filter(status => status.type == \"Resolved\" || status.type == \"Closed\")\n        });\n      }).catch(err => console.log(err));\n      axios.get(api_links.API_ROOT + \"tags/\").then(res2 => {\n        let tagList = res2.data;\n        setTagList(tagList);\n        let tagNameColorList = {};\n        res2.data.map(tag => {\n          tagNameColorList[tag.id] = {\n            tagText: tag.tag_text,\n            tagColor: tag.color\n          };\n        });\n        setTagNameColorList(tagNameColorList);\n      }).catch(err => console.log(err));\n    }).catch(err => console.log(err));\n  }, [props.match.params.projectslug]);\n\n  const getIssues = () => {\n    getFilteredIssues(page, filterTags, search, statusType);\n  };\n\n  const [anchorElTag, setAnchorElTag] = React.useState(null);\n\n  const handleClickTag = event => {\n    setAnchorElTag(event.currentTarget);\n  };\n\n  const handleCloseTag = () => {\n    setAnchorElTag(null);\n  };\n\n  const [filterTags, setFilterTags] = React.useState([]);\n\n  async function getFilteredIssues(pageNumber = 1, tags, searchQuery, statusType) {\n    const token = localStorage.getItem(\"token\");\n    let config = {\n      headers: {\n        Authorization: \"Token \" + token\n      },\n      params: {\n        page: pageNumber,\n        project: pid\n      }\n    };\n    var url = \"issues/\";\n\n    if (tags.length != 0) {\n      tags.forEach((tag, index) => index != 0 ? url += `&tags=${tag}` : url += `?tags=${tag}`);\n      searchQuery && (url += `&search=${searchQuery}`);\n      statusType != \"All\" && (url += `&status__type=${statusType}`);\n    } else {\n      searchQuery && (url += `?search=${searchQuery}`);\n      statusType != \"All\" && (searchQuery ? url += `&status__type=${statusType}` : url += `?status__type=${statusType}`);\n    }\n\n    axios.get(api_links.API_ROOT + url, config).then(res1 => {\n      setTotalPages(res1.data.total_pages);\n      setIssues(res1.data.results);\n    }).catch(err => console.log(err));\n  }\n\n  const handleFilterTagAdd = tagId => {\n    let toUpdate = !filterTags.includes(tagId);\n    let newFilterTagList;\n    toUpdate && (newFilterTagList = [...filterTags, tagId]);\n    toUpdate && setFilterTags(newFilterTagList);\n    toUpdate && getFilteredIssues(1, newFilterTagList, search, statusType);\n    toUpdate && setPage(1);\n  };\n\n  const handleFilterTagRemove = tagId => {\n    let newFilterTagList = filterTags.filter(tag => tag != tagId);\n    setFilterTags(newFilterTagList);\n    getFilteredIssues(1, newFilterTagList, search, statusType);\n    setPage(1);\n  };\n\n  const handlePageChange = (event, value) => {\n    page != value && getFilteredIssues(value, filterTags, search, statusType);\n    setPage(value);\n  };\n\n  const handleSearch = event => {\n    const query = event.target.value;\n\n    if (search != query) {\n      setSearch(query);\n      getFilteredIssues(page, filterTags, query, statusType);\n    }\n  };\n\n  const handleStatusTypeQuery = status_type => {\n    if (status_type != statusType) {\n      setStatusType(status_type);\n      getFilteredIssues(page, filterTags, search, status_type);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UtilityComponent, {\n    title: HEADER_NAV_TITLES.PROJECTNAME(project.name),\n    page: \"PROJECT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }\n  }), project.id && /*#__PURE__*/React.createElement(ProjectInfo, {\n    projectID: project.id,\n    projectslug: project.projectslug,\n    openAlert: openAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AppBar, {\n    position: \"sticky\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    value: value,\n    onChange: handleChange,\n    \"aria-label\": \"simple tabs example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tab, Object.assign({\n    style: {\n      textTransform: \"none\"\n    },\n    label: \"All\",\n    onClick: () => {\n      handleStatusTypeQuery(\"All\");\n    }\n  }, a11yProps(0), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Tab, Object.assign({\n    style: {\n      textTransform: \"none\"\n    },\n    label: \"Open\",\n    onClick: () => {\n      handleStatusTypeQuery(\"Pending\");\n    }\n  }, a11yProps(1), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Tab, Object.assign({\n    style: {\n      textTransform: \"none\"\n    },\n    label: \"Fixed\",\n    onClick: () => {\n      handleStatusTypeQuery(\"Resolved\");\n    }\n  }, a11yProps(2), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Tab, Object.assign({\n    style: {\n      textTransform: \"none\"\n    },\n    label: \"Closed\",\n    onClick: () => {\n      handleStatusTypeQuery(\"Closed\");\n    }\n  }, a11yProps(2), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 11\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"flex-end\",\n      padding: \"7px\",\n      margin: \"7px 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, isMobile && /*#__PURE__*/React.createElement(\"div\", {\n    style: searchClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.searchIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(InputBase, {\n    value: search,\n    onChange: handleSearch,\n    placeholder: \"Search\",\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    inputProps: {\n      \"aria-label\": \"search\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 21\n    }\n  })), !isMobile && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: searchClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.searchIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(InputBase, {\n    value: search,\n    onChange: handleSearch,\n    placeholder: \"Search\",\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    inputProps: {\n      \"aria-label\": \"search\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"issue-tag-filter-chip-container\",\n    style: {\n      maxWidth: \"30vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 21\n    }\n  }, filterTags != [] && filterTags.map(tag => /*#__PURE__*/React.createElement(Chip, {\n    className: \"issue-filter-tag-chip\",\n    label: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: tagNameColorList[tag] && tagNameColorList[tag].tagColor,\n        fontWeight: \"900\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 31\n      }\n    }, \"#\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"issue-tag-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 33\n      }\n    }, tagNameColorList[tag] && tagNameColorList[tag].tagText)),\n    onDelete: () => handleFilterTagRemove(tag),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    startIcon: /*#__PURE__*/React.createElement(FilterListIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 32\n      }\n    }),\n    className: \"btn-filled\",\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClickTag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 19\n    }\n  }, \"Filter\")), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorElTag,\n    keepMounted: true,\n    open: Boolean(anchorElTag),\n    onClose: handleCloseTag,\n    style: {\n      marginTop: \"50px\",\n      maxHeight: \"350px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 17\n    }\n  }, tagList != undefined && tagList.map(tag => /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: () => {\n      handleCloseTag(tag.id);\n      handleFilterTagAdd(tag.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: tag.color,\n      fontWeight: \"900\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"issue-tag-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 27\n    }\n  }, \"#\" + tag.tag_text)))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NewIssueWithModal, {\n    project: project.id,\n    projectname: project.name,\n    getIssues: getIssues,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 17\n    }\n  }))))), isMobile && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"issue-tag-filter-chip-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 11\n    }\n  }, filterTags != [] && filterTags.map(tag => /*#__PURE__*/React.createElement(Chip, {\n    className: \"issue-filter-tag-chip\",\n    label: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: tagNameColorList[tag] && tagNameColorList[tag].tagColor,\n        fontWeight: \"900\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 21\n      }\n    }, \"#\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"issue-tag-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 23\n      }\n    }, tagNameColorList[tag] && tagNameColorList[tag].tagText)),\n    onDelete: () => handleFilterTagRemove(tag),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"issues-list\",\n    style: projectsList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 9\n    }\n  }, issues[0] != undefined ? issues.map((issue, index) => /*#__PURE__*/React.createElement(IssueItem, {\n    id: issue.id,\n    issueIndex: index + 1,\n    statusText: issue.status_text,\n    statusType: issue.status_type,\n    statusColor: issue.status_color,\n    statusId: issue.status,\n    statusList: statusList,\n    date: issue.timestamp,\n    title: issue.title,\n    content: issue.description,\n    assignedTo: issue.assigned_to_name,\n    reportedBy: issue.reporter_name,\n    assigneeId: issue.assigned_to,\n    reporterId: issue.reporter,\n    tags: issue.tags,\n    project: issue.project,\n    projectname: project.name,\n    comments: issue.comments,\n    image: issue.image[0],\n    getIssues: getIssues,\n    tagNameColorList: tagNameColorList,\n    reporterDetails: issue.reporter_details,\n    assigneeDetails: issue.assignee_details,\n    currentUser: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 15\n    }\n  })) : issues.length == 0 ? /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 15\n    }\n  }, \"No issue has been reported yet.\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SkeletonIssue, {\n    first: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SkeletonIssue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SkeletonIssue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SkeletonIssue, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(SkeletonIssue, {\n    last: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 15\n    }\n  }))), issues.length != 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pagination-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    count: totalPages,\n    page: page,\n    onChange: handlePageChange,\n    variant: \"outlined\",\n    shape: \"rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"divider2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(NewIssueWithModal, {\n    floating: true,\n    project: project.id,\n    projectname: project.name,\n    getIssues: getIssues,\n    style: {\n      zIndex: 1100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(AlertDialog, {\n    open: alert.open,\n    action: alert.action,\n    title: alert.title || \"\",\n    description: alert.description || \"\",\n    cancel: alert.cancel || \"\",\n    confirm: alert.confirm || \"\",\n    confirmAlert: confirmAlert,\n    data: alert.data || \"\",\n    closeAlert: closeAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    darkTheme: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(state.theme.theme)\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(ProjectPage));","map":{"version":3,"sources":["/app/frontend/src/containers/ProjectPage.jsx"],"names":["React","Typography","PropTypes","AppBar","Tabs","Tab","Box","FilterListIcon","Button","Menu","MenuItem","Chip","useMediaQuery","useTheme","makeStyles","Pagination","InputBase","SearchIcon","withRouter","connect","IssueItem","SkeletonIssue","ProjectInfo","NewIssueWithModal","AlertDialog","api_links","UtilityComponent","HEADER_NAV_TITLES","axios","useStyles","theme","searchIcon","padding","spacing","height","position","pointerEvents","display","alignItems","justifyContent","inputRoot","color","width","inputInput","paddingLeft","transition","transitions","create","TabPanel","props","children","value","index","other","propTypes","node","any","isRequired","a11yProps","id","projectsList","flexDirection","overflowY","ProjectPage","Theme","classes","isMobile","breakpoints","down","searchClass","borderRadius","backgroundColor","darkTheme","marginLeft","setValue","useState","handleChange","event","newValue","anchorEl","setAnchorEl","handleClick","currentTarget","handleClose","project","setProject","issues","setIssues","tagNameColorList","setTagNameColorList","tagList","setTagList","statusList","setStatusList","pid","setPid","totalPages","setTotalPages","page","setPage","statusTypes","setStatusTypes","statusType","setStatusType","search","setSearch","alert","setAlert","open","openAlert","action","title","description","cancel","confirm","data","closeAlert","prevAlertState","confirmAlert","choice","handleProjectDelete","projectID","delete","API_ROOT","then","res","audio","Audio","play","setTimeout","window","location","href","catch","err","console","log","getDemIssues","projectId","pageNumber","token","localStorage","getItem","config","headers","Authorization","params","get","results","total_pages","currentUser","setCurrentUser","fetchCurrentUserInfo","useEffect","document","getElementById","scrollTo","projectslug","match","requiredProject","filter","setFilterTags","map","status","text","status_text","type","status_type","fixed_closed","res2","tag","tagText","tag_text","tagColor","getIssues","getFilteredIssues","filterTags","anchorElTag","setAnchorElTag","handleClickTag","handleCloseTag","tags","searchQuery","url","length","forEach","res1","handleFilterTagAdd","tagId","toUpdate","includes","newFilterTagList","handleFilterTagRemove","handlePageChange","handleSearch","query","target","handleStatusTypeQuery","PROJECTNAME","name","textTransform","margin","root","input","maxWidth","fontWeight","Boolean","marginTop","maxHeight","undefined","issue","status_color","timestamp","assigned_to_name","reporter_name","assigned_to","reporter","comments","image","reporter_details","assignee_details","zIndex","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Chip from \"@material-ui/core/Chip\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme, makeStyles } from \"@material-ui/core/styles\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport IssueItem from \"../components/IssueItem\";\nimport SkeletonIssue from \"../components/SkeletonIssue\";\nimport ProjectInfo from \"../components/ProjectInfo\";\nimport NewIssueWithModal from \"../components/NewIssueWithModal\";\nimport AlertDialog from \"../components/AlertDialog\";\nimport * as api_links from \"../APILinks\";\nimport UtilityComponent from \"../components/UtilityComponent\";\nimport HEADER_NAV_TITLES from \"../header_nav_titles\";\n\nimport axios from \"axios\";\n\nconst useStyles = makeStyles((theme) => ({\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\",\n  },\n  inputInput: {\n    padding: 0,\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n  },\n}));\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nconst projectsList = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  overflowY: \"auto\",\n};\n\nconst ProjectPage = (props) => {\n  const Theme = useTheme();\n  const classes = useStyles();\n  const isMobile = useMediaQuery(Theme.breakpoints.down(\"sm\"));\n  const searchClass = {\n    position: \"relative\",\n    borderRadius: \"7px\",\n    backgroundColor: props.darkTheme\n      ? \"rgba(141, 141, 141, 0.096)\"\n      : \"rgba(0,0,0,0.10)\",\n    width: !isMobile ? \"15vw\" : \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"10px 5px\",\n    height: \"45px\",\n    marginLeft: \"3px\",\n  };\n\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [project, setProject] = React.useState({});\n  const [issues, setIssues] = React.useState([]);\n  const [tagNameColorList, setTagNameColorList] = React.useState();\n  const [tagList, setTagList] = React.useState();\n  const [statusList, setStatusList] = React.useState([]);\n  const [pid, setPid] = React.useState();\n  const [totalPages, setTotalPages] = React.useState(0);\n  const [page, setPage] = React.useState(1);\n  const [statusTypes, setStatusTypes] = React.useState();\n  const [statusType, setStatusType] = React.useState(\"All\");\n  const [search, setSearch] = React.useState(\"\");\n  const [alert, setAlert] = React.useState({\n    open: false,\n  });\n\n  const openAlert = (action, title, description, cancel, confirm, data) => {\n    setAlert({\n      open: true,\n      title: title,\n      description: description,\n      cancel: cancel,\n      confirm: confirm,\n      action: action,\n      data: data,\n    });\n  };\n\n  const closeAlert = () => {\n    setAlert((prevAlertState) => ({\n      open: false,\n    }));\n  };\n\n  const confirmAlert = (event, choice, id) => {\n    switch (event) {\n      case \"delete_project\":\n        choice && handleProjectDelete(id);\n        break;\n    }\n  };\n\n  const handleProjectDelete = (projectID) => {\n    axios\n      .delete(api_links.API_ROOT + `projects/${projectID}/`)\n      .then((res) => {\n        let audio = new Audio(\n          \"../sounds/navigation_selection-complete-celebration.wav\"\n        );\n        audio.play();\n        setTimeout(() => {\n          window.location.href = \"/projects\";\n        }, 1000);\n      })\n      .catch((err) => {\n        console.log(err);\n        let audio = new Audio(\"../sounds/alert_error-03.wav\");\n        audio.play();\n      });\n  };\n\n  async function getDemIssues(projectId, pageNumber = 1) {\n    const token = localStorage.getItem(\"token\");\n    let config = {\n      headers: { Authorization: \"Token \" + token },\n      params: {\n        page: pageNumber,\n        project: projectId,\n      },\n    };\n    axios\n      .get(api_links.API_ROOT + \"issues/\", config)\n      .then((res) => {\n        setIssues(res.data.results);\n        setTotalPages(res.data.total_pages);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  async function fetchCurrentUserInfo() {\n    axios\n      .get(`${api_links.API_ROOT}current_user/`)\n      .then((res) => {\n        setCurrentUser(res.data[0]);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  React.useEffect(() => {\n    document.getElementById(\"main-main\").scrollTo(0, 0);\n    fetchCurrentUserInfo();\n\n    setAlert({\n      open: false,\n    });\n\n    axios\n      .get(api_links.API_ROOT + \"projectnameslug/\")\n      .then((res) => {\n        const projectslug = props.match.params.projectslug;\n        const requiredProject = res.data.filter(\n          (project) => project.projectslug == projectslug\n        )[0];\n        setPid(requiredProject.id);\n        setProject(requiredProject);\n        getDemIssues(requiredProject.id);\n        setFilterTags([]);\n\n        axios\n          .get(api_links.API_ROOT + \"issuestatus/\")\n          .then((res) => {\n            setStatusList(\n              res.data.map((status) => ({\n                text: status.status_text,\n                color: status.color,\n                type: status.status_type,\n                id: status.id,\n              }))\n            );\n            setStatusTypes({\n              open: res.data.filter((status) => status.type == \"Pending\"),\n              fixed_closed: res.data.filter(\n                (status) => status.type == \"Resolved\" || status.type == \"Closed\"\n              ),\n            });\n          })\n          .catch((err) => console.log(err));\n\n        axios\n          .get(api_links.API_ROOT + \"tags/\")\n          .then((res2) => {\n            let tagList = res2.data;\n            setTagList(tagList);\n            let tagNameColorList = {};\n            res2.data.map((tag) => {\n              tagNameColorList[tag.id] = {\n                tagText: tag.tag_text,\n                tagColor: tag.color,\n              };\n            });\n            setTagNameColorList(tagNameColorList);\n          })\n          .catch((err) => console.log(err));\n      })\n      .catch((err) => console.log(err));\n  }, [props.match.params.projectslug]);\n\n  const getIssues = () => {\n    getFilteredIssues(page, filterTags, search, statusType);\n  };\n\n  const [anchorElTag, setAnchorElTag] = React.useState(null);\n\n  const handleClickTag = (event) => {\n    setAnchorElTag(event.currentTarget);\n  };\n\n  const handleCloseTag = () => {\n    setAnchorElTag(null);\n  };\n\n  const [filterTags, setFilterTags] = React.useState([]);\n\n  async function getFilteredIssues(\n    pageNumber = 1,\n    tags,\n    searchQuery,\n    statusType\n  ) {\n    const token = localStorage.getItem(\"token\");\n    let config = {\n      headers: { Authorization: \"Token \" + token },\n      params: {\n        page: pageNumber,\n        project: pid,\n      },\n    };\n    var url = \"issues/\";\n    if (tags.length != 0) {\n      tags.forEach((tag, index) =>\n        index != 0 ? (url += `&tags=${tag}`) : (url += `?tags=${tag}`)\n      );\n      searchQuery && (url += `&search=${searchQuery}`);\n      statusType != \"All\" && (url += `&status__type=${statusType}`);\n    } else {\n      searchQuery && (url += `?search=${searchQuery}`);\n      statusType != \"All\" &&\n        (searchQuery\n          ? (url += `&status__type=${statusType}`)\n          : (url += `?status__type=${statusType}`));\n    }\n    axios\n      .get(api_links.API_ROOT + url, config)\n      .then((res1) => {\n        setTotalPages(res1.data.total_pages);\n        setIssues(res1.data.results);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const handleFilterTagAdd = (tagId) => {\n    let toUpdate = !filterTags.includes(tagId);\n    let newFilterTagList;\n    toUpdate && (newFilterTagList = [...filterTags, tagId]);\n    toUpdate && setFilterTags(newFilterTagList);\n    toUpdate && getFilteredIssues(1, newFilterTagList, search, statusType);\n    toUpdate && setPage(1);\n  };\n\n  const handleFilterTagRemove = (tagId) => {\n    let newFilterTagList = filterTags.filter((tag) => tag != tagId);\n    setFilterTags(newFilterTagList);\n    getFilteredIssues(1, newFilterTagList, search, statusType);\n    setPage(1);\n  };\n\n  const handlePageChange = (event, value) => {\n    page != value && getFilteredIssues(value, filterTags, search, statusType);\n    setPage(value);\n  };\n\n  const handleSearch = (event) => {\n    const query = event.target.value;\n    if (search != query) {\n      setSearch(query);\n      getFilteredIssues(page, filterTags, query, statusType);\n    }\n  };\n\n  const handleStatusTypeQuery = (status_type) => {\n    if (status_type != statusType) {\n      setStatusType(status_type);\n      getFilteredIssues(page, filterTags, search, status_type);\n    }\n  };\n\n  return (\n    <div>\n      <UtilityComponent\n        title={HEADER_NAV_TITLES.PROJECTNAME(project.name)}\n        page=\"PROJECT\"\n      />\n\n      {project.id && (\n        <ProjectInfo\n          projectID={project.id}\n          projectslug={project.projectslug}\n          openAlert={openAlert}\n        />\n      )}\n\n      <AppBar position=\"sticky\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          aria-label=\"simple tabs example\"\n        >\n          <Tab\n            style={{ textTransform: \"none\" }}\n            label=\"All\"\n            onClick={() => {\n              handleStatusTypeQuery(\"All\");\n            }}\n            {...a11yProps(0)}\n          />\n          <Tab\n            style={{ textTransform: \"none\" }}\n            label=\"Open\"\n            onClick={() => {\n              handleStatusTypeQuery(\"Pending\");\n            }}\n            {...a11yProps(1)}\n          />\n          <Tab\n            style={{ textTransform: \"none\" }}\n            label=\"Fixed\"\n            onClick={() => {\n              handleStatusTypeQuery(\"Resolved\");\n            }}\n            {...a11yProps(2)}\n          />\n          <Tab\n            style={{ textTransform: \"none\" }}\n            label=\"Closed\"\n            onClick={() => {\n              handleStatusTypeQuery(\"Closed\");\n            }}\n            {...a11yProps(2)}\n          />\n        </Tabs>\n      </AppBar>\n      <div>\n        <div>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-end\",\n              padding: \"7px\",\n              margin: \"7px 0\",\n            }}\n          >\n            <div style={{ display: \"flex\", width: \"100%\" }}>\n              <>\n                {isMobile && (\n                  <div style={searchClass}>\n                    <div className={classes.searchIcon}>\n                      <SearchIcon />\n                    </div>\n                    <InputBase\n                      value={search}\n                      onChange={handleSearch}\n                      placeholder=\"Search\"\n                      classes={{\n                        root: classes.inputRoot,\n                        input: classes.inputInput,\n                      }}\n                      inputProps={{ \"aria-label\": \"search\" }}\n                    />\n                  </div>\n                )}\n\n                {!isMobile && (\n                  <div\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"space-between\",\n                      width: \"100%\",\n                    }}\n                  >\n                    <div style={searchClass}>\n                      <div className={classes.searchIcon}>\n                        <SearchIcon />\n                      </div>\n                      <InputBase\n                        value={search}\n                        onChange={handleSearch}\n                        placeholder=\"Search\"\n                        classes={{\n                          root: classes.inputRoot,\n                          input: classes.inputInput,\n                        }}\n                        inputProps={{ \"aria-label\": \"search\" }}\n                      />\n                    </div>\n\n                    <div\n                      className=\"issue-tag-filter-chip-container\"\n                      style={{ maxWidth: \"30vw\" }}\n                    >\n                      {filterTags != [] &&\n                        filterTags.map((tag) => (\n                          <Chip\n                            className=\"issue-filter-tag-chip\"\n                            label={\n                              <div\n                                style={{\n                                  color:\n                                    tagNameColorList[tag] &&\n                                    tagNameColorList[tag].tagColor,\n                                  fontWeight: \"900\",\n                                }}\n                              >\n                                #\n                                <span className=\"issue-tag-text\">\n                                  {tagNameColorList[tag] &&\n                                    tagNameColorList[tag].tagText}\n                                </span>\n                              </div>\n                            }\n                            onDelete={() => handleFilterTagRemove(tag)}\n                          />\n                        ))}\n                    </div>\n                  </div>\n                )}\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <Button\n                    startIcon={<FilterListIcon />}\n                    className=\"btn-filled\"\n                    aria-controls=\"simple-menu\"\n                    aria-haspopup=\"true\"\n                    onClick={handleClickTag}\n                  >\n                    Filter\n                  </Button>\n                </div>\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorElTag}\n                  keepMounted\n                  open={Boolean(anchorElTag)}\n                  onClose={handleCloseTag}\n                  style={{ marginTop: \"50px\", maxHeight: \"350px\" }}\n                >\n                  {tagList != undefined &&\n                    tagList.map((tag) => (\n                      <MenuItem\n                        onClick={() => {\n                          handleCloseTag(tag.id);\n                          handleFilterTagAdd(tag.id);\n                        }}\n                      >\n                        <div\n                          style={{\n                            color: tag.color,\n                            fontWeight: \"900\",\n                          }}\n                        >\n                          <span className=\"issue-tag-text\">\n                            {\"#\" + tag.tag_text}\n                          </span>\n                        </div>\n                      </MenuItem>\n                    ))}\n                </Menu>\n              </>\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  justifyContent: \"flex-end\",\n                  alignItems: \"center\",\n                }}\n              >\n                <NewIssueWithModal\n                  project={project.id}\n                  projectname={project.name}\n                  getIssues={getIssues}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {isMobile && (\n          <div className=\"issue-tag-filter-chip-container\">\n            {filterTags != [] &&\n              filterTags.map((tag) => (\n                <Chip\n                  className=\"issue-filter-tag-chip\"\n                  label={\n                    <div\n                      style={{\n                        color:\n                          tagNameColorList[tag] &&\n                          tagNameColorList[tag].tagColor,\n                        fontWeight: \"900\",\n                      }}\n                    >\n                      #\n                      <span className=\"issue-tag-text\">\n                        {tagNameColorList[tag] && tagNameColorList[tag].tagText}\n                      </span>\n                    </div>\n                  }\n                  onDelete={() => handleFilterTagRemove(tag)}\n                />\n              ))}\n          </div>\n        )}\n\n        <div className=\"issues-list\" style={projectsList}>\n          {issues[0] != undefined ? (\n            issues.map((issue, index) => (\n              <IssueItem\n                id={issue.id}\n                issueIndex={index + 1}\n                statusText={issue.status_text}\n                statusType={issue.status_type}\n                statusColor={issue.status_color}\n                statusId={issue.status}\n                statusList={statusList}\n                date={issue.timestamp}\n                title={issue.title}\n                content={issue.description}\n                assignedTo={issue.assigned_to_name}\n                reportedBy={issue.reporter_name}\n                assigneeId={issue.assigned_to}\n                reporterId={issue.reporter}\n                tags={issue.tags}\n                project={issue.project}\n                projectname={project.name}\n                comments={issue.comments}\n                image={issue.image[0]}\n                getIssues={getIssues}\n                tagNameColorList={tagNameColorList}\n                reporterDetails={issue.reporter_details}\n                assigneeDetails={issue.assignee_details}\n                currentUser={currentUser}\n              />\n            ))\n          ) : issues.length == 0 ? (\n            <center>\n              <Typography>No issue has been reported yet.</Typography>\n            </center>\n          ) : (\n            <>\n              <SkeletonIssue first />\n              <SkeletonIssue />\n              <SkeletonIssue />\n              <SkeletonIssue />\n              <SkeletonIssue last />\n            </>\n          )}\n        </div>\n\n        {issues.length != 0 && (\n          <div className=\"pagination-container\">\n            <Pagination\n              count={totalPages}\n              page={page}\n              onChange={handlePageChange}\n              variant=\"outlined\"\n              shape=\"rounded\"\n            />\n          </div>\n        )}\n\n        <hr className=\"divider2\" />\n      </div>\n\n      <NewIssueWithModal\n        floating\n        project={project.id}\n        projectname={project.name}\n        getIssues={getIssues}\n        style={{ zIndex: 1100 }}\n      />\n\n      <AlertDialog\n        open={alert.open}\n        action={alert.action}\n        title={alert.title || \"\"}\n        description={alert.description || \"\"}\n        cancel={alert.cancel || \"\"}\n        confirm={alert.confirm || \"\"}\n        confirmAlert={confirmAlert}\n        data={alert.data || \"\"}\n        closeAlert={closeAlert}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    darkTheme: [\"dark\", \"solarizedDark\", \"palpatine\"].includes(\n      state.theme.theme\n    ),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(ProjectPage));\n"]},"metadata":{},"sourceType":"module"}